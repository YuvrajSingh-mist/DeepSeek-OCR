因为 \( a_n = a_1 q^{n-1} \)，所以上面的公式还可以写成

\[
S_n = \frac{a_1 - a_n q}{1-q} \quad (q \neq 1).
\]

有了上述公式，就可以解决本节开头提出的问题。由 \( a_1 = 1, q = 2, n = 64 \)，可得

\[
S_n = \frac{a_1 (1 - q^n)}{1 - q}
= \frac{1 \times (1 - 2^{64})}{1 - 2}
= 2^{64} - 1.
\]

\( 2^{64} - 1 \) 这个数很大，超过了 \( 1.84 \times 10^{19} \)。假定千粒麦子的质量为 40 g，那么麦粒的总质量超过了 7000 亿吨，因此，国王不能实现他的诺言。

对于等比数列的相关量 \( a_1, a_n, q, n, S_n \)，已知几个量，就可以确定其他量？

例 1 求下列等比数列前 8 项的和：

(1) \( \frac{1}{2}, \frac{1}{4}, \frac{1}{8}, \cdots \);

(2) \( a_1 = 27, a_9 = \frac{1}{243}, q < 0 \).

解：(1) 因为 \( a_1 = 1, q = \frac{1}{2} \)，所以当 \( n = 8 \) 时，

\[
S_n = \frac{\frac{1}{2} \left[ 1 - \left( \frac{1}{2} \right)^8 \right]}{1 - \frac{1}{2}} = \frac{255}{256}.
\]

(2) 由 \( a_1 = 27, a_9 = \frac{1}{243} \)，可得

\[
\frac{1}{243} = 27 \cdot q^8.
\]

又由 \( q < 0 \)，可得

\[
q = -\frac{1}{3}.
\]

于是当 \( n = 8 \) 时，

\[
S_8 = \frac{27 \left[ 1 - \left( -\frac{1}{3} \right)^8 \right]}{1 - \left( -\frac{1}{3} \right)} = \frac{1640}{81}.
\]